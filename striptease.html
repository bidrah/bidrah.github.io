<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Striptease Animation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #8B0000, #4B0000);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        #stage {
            width: 400px;
            height: 600px;
            position: relative;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            border: 3px solid #FFD700;
            border-radius: 10px;
            overflow: hidden;
        }

        #dancer {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 200px;
            transition: all 0.5s ease;
            z-index: 10;
        }

        .clothing {
            position: absolute;
            width: 100%;
            height: 100%;
            background: #FFD700;
            opacity: 0.8;
            border-radius: 5px;
            transition: all 1s ease;
        }

        .hat { height: 20px; background: #8B4513; top: -10px; width: 60px; left: 10px; }
        .jacket { height: 60px; top: 0; background: #000080; }
        .shirt { height: 70px; top: 60px; background: #FFFFFF; }
        .pants { height: 80px; bottom: 40px; background: #000080; }
        .underwear { height: 30px; bottom: 10px; background: #FF69B4; }
        .socks { height: 20px; bottom: 0; background: #000000; }

        #status {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #FFD700;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 2px 2px 4px #000;
            z-index: 100;
        }

        #progress {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 5px;
            background: rgba(255,255,255,0.2);
            border-radius: 5px;
            overflow: hidden;
        }

        #progress-bar {
            height: 100%;
            background: #FFD700;
            width: 0%;
            transition: width 0.3s ease;
        }

        .spotlight {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 20%, rgba(255,255,255,0.8) 0%, transparent 60%);
            pointer-events: none;
        }

        .curtains {
            position: absolute;
            top: 0;
            width: 50%;
            height: 100%;
            background: #8B0000;
            transform: translateX(0);
            transition: transform 2s ease;
        }

        .left-curtain { left: 0; }
        .right-curtain { right: 0; transform: translateX(0); }

        .open .left-curtain { transform: translateX(-100%); }
        .open .right-curtain { transform: translateX(100%); }

        @keyframes shimmy {
            0%, 100% { transform: translateX(-50%) rotate(0deg); }
            25% { transform: translateX(-50%) rotate(2deg); }
            75% { transform: translateX(-50%) rotate(-2deg); }
        }

        @keyframes twirl {
            from { transform: translateX(-50%) rotate(0deg); }
            to { transform: translateX(-50%) rotate(360deg); }
        }

        @keyframes sway {
            0%, 100% { transform: translateX(-50%); }
            50% { transform: translateX(-55%); }
        }

        @keyframes bow {
            0% { transform: translateX(-50%) rotate(0deg); }
            100% { transform: translateX(-50%) rotate(-15deg); }
        }
    </style>
</head>
<body>
    <div id="stage">
        <div class="spotlight"></div>
        <div class="curtains left-curtain"></div>
        <div class="curtains right-curtain"></div>
        
        <div id="status">ðŸŽ­ Curtains Opening...</div>
        <div id="progress"><div id="progress-bar"></div></div>
        
        <div id="dancer">
            <!-- Clothing layers will be added dynamically -->
        </div>
    </div>

    <script>
        const script = {
            "title": "Animated Striptease to Nothing",
            "duration": 13200,
            "steps": [
                { "time": 0, "action": "intro", "desc": "Enter stage with hat tip and wink", "duration": 2000 },
                { "time": 2000, "action": "twirl", "desc": "Spin gracefully, teasing jacket removal", "duration": 1500 },
                { "time": 3500, "action": "slow_remove", "desc": "Unbutton and slide off jacket seductively", "clothes": ["jacket"], "duration": 2500 },
                { "time": 6000, "action": "shimmy", "desc": "Shoulder shimmy while unbuttoning shirt", "duration": 2000 },
                { "time": 8000, "action": "bend_and_remove", "desc": "Bend forward, let shirt fall to floor", "clothes": ["shirt"], "duration": 1500 },
                { "time": 9500, "action": "hip_sway", "desc": "Sway hips, thumbs in waistband of pants", "duration": 1000 },
                { "time": 10500, "action": "slow_drop", "desc": "Pants slide down slowly, step out", "clothes": ["pants"], "duration": 800 },
                { "time": 11300, "action": "tease_final", "desc": "Hand bra gesture, playful pause", "duration": 500 },
                { "time": 11800, "action": "final_reveal", "desc": "Turn away, remove underwear and socks, spin back nude", "clothes": ["underwear", "socks"], "duration": 400 },
                { "time": 12200, "action": "bow", "desc": "Tip hat, full nude bow to nothing left!", "duration": 1000 }
            ]
        };

        class StripteaseAnimator {
            constructor() {
                this.dancer = document.getElementById('dancer');
                this.status = document.getElementById('status');
                this.progressBar = document.getElementById('progress-bar');
                this.stage = document.getElementById('stage');
                this.currentTime = 0;
                this.clothes = ['hat', 'jacket', 'shirt', 'pants', 'underwear', 'socks'];
                this.renderedClothes = new Set();
                
                this.initClothes();
                this.startAnimation();
            }

            initClothes() {
                this.clothes.forEach(cloth => {
                    const element = document.createElement('div');
                    element.className = `clothing ${cloth}`;
                    this.dancer.appendChild(element);
                    this.renderedClothes.add(cloth);
                });
            }

            removeClothes(clothesToRemove) {
                clothesToRemove.forEach(cloth => {
                    const element = this.dancer.querySelector(`.${cloth}`);
                    if (element) {
                        element.style.opacity = '0';
                        setTimeout(() => element.remove(), 1000);
                        this.renderedClothes.delete(cloth);
                    }
                });
            }

            updateStatus(text) {
                this.status.textContent = text;
            }

            updateProgress(percent) {
                this.progressBar.style.width = `${percent}%`;
            }

            animate(action) {
                this.dancer.style.animation = 'none';
                setTimeout(() => {
                    switch(action) {
                        case 'intro':
                            this.dancer.style.transform = 'translateX(-50%) scale(1)';
                            break;
                        case 'twirl':
                            this.dancer.style.animation = 'twirl 1.5s ease-in-out';
                            break;
                        case 'shimmy':
                            this.dancer.style.animation = 'shimmy 2s ease-in-out';
                            break;
                        case 'hip_sway':
                            this.dancer.style.animation = 'sway 1s ease-in-out infinite';
                            break;
                        case 'bow':
                            this.dancer.style.animation = 'bow 1s ease-out';
                            break;
                        case 'final_reveal':
                            this.dancer.style.animation = 'twirl 0.4s ease-in-out';
                            break;
                    }
                }, 100);
            }

            startAnimation() {
                // Open curtains
                setTimeout(() => this.stage.classList.add('open'), 500);
                
                let stepIndex = 0;
                const interval = setInterval(() => {
                    this.currentTime += 100;
                    const progress = (this.currentTime / script.duration) * 100;
                    this.updateProgress(progress);

                    if (stepIndex < script.steps.length && this.currentTime >= script.steps[stepIndex].time) {
                        const step = script.steps[stepIndex];
                        
                        this.updateStatus(step.desc);
                        this.animate(step.action);
                        
                        if (step.clothes) {
                            this.removeClothes(step.clothes);
                        }
                        
                        stepIndex++;
                    }

                    if (this.currentTime >= script.duration) {
                        clearInterval(interval);
                        this.finalReveal();
                    }
                }, 100);
            }

            finalReveal() {
                this.updateStatus('ðŸŽ‰ DOWN TO NOTHING! ðŸŽ‰');
                this.dancer.style.transform = 'translateX(-50%) scale(1.2)';
                
                // Final spin and bow
                setTimeout(() => {
                    this.animate('bow');
                    confetti();
                }, 500);
            }
        }

        // Confetti effect for finale
        function confetti() {
            for (let i = 0; i < 100; i++) {
                const conf = document.createElement('div');
                conf.style.position = 'fixed';
                conf.style.left = Math.random() * 100 + 'vw';
                conf.style.top = '-10px';
                conf.style.width = '10px';
                conf.style.height = '10px';
                conf.style.background = ['#FFD700', '#FF69B4', '#FFFFFF', '#000080'][Math.floor(Math.random() * 4)];
                conf.style.pointerEvents = 'none';
                conf.style.zIndex = '1000';
                document.body.appendChild(conf);
                
                conf.animate([
                    { transform: 'translateY(-10px) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(600px) rotate(720deg)`, opacity: 0 }
                ], {
                    duration: 3000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                }).onfinish = () => conf.remove();
            }
        }

        // Background music simulation
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        function playTone(frequency, duration) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            oscillator.frequency.value = frequency;
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        // Start sultry music
        setTimeout(() => playTone(220, 13.2), 1000);

        // Initialize when page loads
        window.addEventListener('load', () => {
            new StripteaseAnimator();
        });

        // Click to restart
        document.addEventListener('click', () => {
            location.reload();
        });
    </script>
</body>
</html>